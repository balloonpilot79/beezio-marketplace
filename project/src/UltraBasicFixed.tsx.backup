import { useState, createContext, useContext } from 'react';
import { BrowserRouter as Router, Routes, Route, Link, Navigate } from 'react-router-dom';

// Auth Context
const AuthContext = createContext<{
  user: any;
  login: (email: string, password: string, role: string) => void;
  logout: () => void;
  isAuthenticated: boolean;
}>({
  user: null,
  login: () => {},
  logout: () => {},
  isAuthenticated: false
});

const useAuth = () => useContext(AuthContext);

// Auth Provider Component
const AuthProvider = ({ children }: { children: React.ReactNode }) => {
  const [user, setUser] = useState<any>(null);
  const [isAuthenticated, setIsAuthenticated] = useState(false);

  const login = (email: string, password: string, role: string) => {
    // Simulate login - in real app this would call API
    const userData = {
      id: Date.now(),
      email: email,
      name: email.split('@')[0],
      role: role
    };
    setUser(userData);
    setIsAuthenticated(true);
  };

  const logout = () => {
    setUser(null);
    setIsAuthenticated(false);
  };

  return (
    <AuthContext.Provider value={{ user, login, logout, isAuthenticated }}>
      {children}
    </AuthContext.Provider>
  );
};

// Sample Data
const featuredProducts = [
  {
    id: 1,
    name: "Wireless Noise-Cancelling Headphones",
    price: 149.99,
    originalPrice: 199.99,
    commission: 25,
    seller: "TechGear Pro",
    image: "https://images.pexels.com/photos/3587478/pexels-photo-3587478.jpeg?auto=compress&cs=tinysrgb&w=400",
    rating: 4.8,
    reviews: 124
  },
  {
    id: 2,
    name: "Handcrafted Leather Wallet",
    price: 89.99,
    originalPrice: 119.99,
    commission: 30,
    seller: "Sarah's Crafts",
    image: "https://images.pexels.com/photos/1240892/pexels-photo-1240892.jpeg?auto=compress&cs=tinysrgb&w=400",
    rating: 4.9,
    reviews: 89
  },
  {
    id: 3,
    name: "Premium Coffee Subscription",
    price: 29.99,
    originalPrice: 39.99,
    commission: 35,
    seller: "Mountain Roasters",
    image: "https://images.pexels.com/photos/324028/pexels-photo-324028.jpeg?auto=compress&cs=tinysrgb&w=400",
    rating: 4.7,
    reviews: 256
  }
];

const activeFundraisers = [
  {
    id: 1,
    title: "Clean Water Wells in Uganda",
    goal: 25000,
    raised: 18750,
    organizer: "Water for Life Foundation",
    image: "https://images.pexels.com/photos/1739855/pexels-photo-1739855.jpeg?auto=compress&cs=tinysrgb&w=400",
    daysLeft: 45
  },
  {
    id: 2,
    title: "Save Local Animal Shelter",
    goal: 15000,
    raised: 8500,
    organizer: "Paws & Hearts Rescue",
    image: "https://images.pexels.com/photos/1851164/pexels-photo-1851164.jpeg?auto=compress&cs=tinysrgb&w=400",
    daysLeft: 23
  }
];

// Header Component with Enhanced Design
const Header = () => {
  const { user, logout, isAuthenticated } = useAuth();
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  return (
    <div style={{ 
      background: 'linear-gradient(135deg, #ffffff 0%, #fef7f0 50%, #ffffff 100%)',
      padding: '16px 0',
      boxShadow: '0 8px 32px rgba(234, 88, 12, 0.08)',
      borderBottom: '1px solid rgba(234, 88, 12, 0.1)',
      position: 'sticky',
      top: 0,
      zIndex: 1000
    }}>
      <div style={{ 
        maxWidth: '1200px', 
        margin: '0 auto', 
        padding: '0 24px',
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center'
      }}>
        {/* Enhanced Logo */}
        <Link to="/" style={{ 
          display: 'flex',
          alignItems: 'center',
          gap: '12px',
          textDecoration: 'none',
          transition: 'transform 0.3s ease'
        }}>
          <div style={{
            background: 'linear-gradient(135deg, #f59e0b, #ea580c)',
            borderRadius: '16px',
            padding: '12px',
            fontSize: '28px',
            boxShadow: '0 4px 16px rgba(234, 88, 12, 0.3)',
            transform: 'rotate(-5deg)'
          }}>
            üêù
          </div>
          <div>
            <div style={{ 
              fontSize: '32px', 
              fontWeight: 'bold',
              background: 'linear-gradient(135deg, #ea580c, #dc2626)',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              lineHeight: '1'
            }}>
              Beezio.co
            </div>
            <div style={{ 
              fontSize: '12px', 
              color: '#8b5cf6',
              fontWeight: '600',
              letterSpacing: '0.5px'
            }}>
              POWERHOUSE MARKETPLACE
            </div>
          </div>
        </Link>

        {/* Navigation Menu */}
        <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>
          {/* Main Navigation */}
          <div style={{ display: 'flex', gap: '4px', alignItems: 'center' }}>
            <Link to="/" style={{ 
              color: '#374151', 
              textDecoration: 'none', 
              fontSize: '16px', 
              fontWeight: '600',
              padding: '12px 16px',
              borderRadius: '12px',
              transition: 'all 0.3s ease',
              position: 'relative'
            }}>
              <span style={{ marginRight: '6px' }}>üè†</span>
              Home
            </Link>
            
            <Link to="/marketplace" style={{ 
              color: '#374151', 
              textDecoration: 'none', 
              fontSize: '16px', 
              fontWeight: '600',
              padding: '12px 16px',
              borderRadius: '12px',
              transition: 'all 0.3s ease',
              background: 'rgba(234, 88, 12, 0.05)',
              border: '1px solid rgba(234, 88, 12, 0.1)'
            }}>
              <span style={{ marginRight: '6px' }}>üõçÔ∏è</span>
              Marketplace
            </Link>
            
            <Link to="/fundraisers" style={{ 
              color: '#374151', 
              textDecoration: 'none', 
              fontSize: '16px', 
              fontWeight: '600',
              padding: '12px 16px',
              borderRadius: '12px',
              transition: 'all 0.3s ease',
              background: 'rgba(236, 72, 153, 0.05)',
              border: '1px solid rgba(236, 72, 153, 0.1)'
            }}>
              <span style={{ marginRight: '6px' }}>‚ù§Ô∏è</span>
              Fundraisers
            </Link>
          </div>

          {/* User Section */}
          <div style={{ marginLeft: '16px', paddingLeft: '16px', borderLeft: '1px solid #e5e7eb' }}>
            {isAuthenticated ? (
              <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                {/* Role-specific Dashboard Link */}
                {user?.role === 'seller' && (
                  <Link to="/seller-dashboard" style={{ 
                    color: '#374151', 
                    textDecoration: 'none', 
                    fontSize: '15px', 
                    fontWeight: '600',
                    padding: '10px 14px',
                    borderRadius: '10px',
                    background: 'linear-gradient(135deg, #f0fdf4, #dcfce7)',
                    border: '1px solid #bbf7d0'
                  }}>
                    <span style={{ marginRight: '6px' }}>üè™</span>
                    My Store
                  </Link>
                )}
                {user?.role === 'affiliate' && (
                  <Link to="/affiliate-dashboard" style={{ 
                    color: '#374151', 
                    textDecoration: 'none', 
                    fontSize: '15px', 
                    fontWeight: '600',
                    padding: '10px 14px',
                    borderRadius: '10px',
                    background: 'linear-gradient(135deg, #f0f9ff, #dbeafe)',
                    border: '1px solid #bfdbfe'
                  }}>
                    <span style={{ marginRight: '6px' }}>ü§ù</span>
                    My Links
                  </Link>
                )}
                {user?.role === 'buyer' && (
                  <Link to="/buyer-dashboard" style={{ 
                    color: '#374151', 
                    textDecoration: 'none', 
                    fontSize: '15px', 
                    fontWeight: '600',
                    padding: '10px 14px',
                    borderRadius: '10px',
                    background: 'linear-gradient(135deg, #fefce8, #fef3c7)',
                    border: '1px solid #fed7aa'
                  }}>
                    <span style={{ marginRight: '6px' }}>üì¶</span>
                    My Orders
                  </Link>
                )}

                {/* User Profile Section */}
                <div style={{ 
                  display: 'flex', 
                  alignItems: 'center', 
                  gap: '8px',
                  background: 'linear-gradient(135deg, #f9fafb, #f3f4f6)',
                  padding: '8px 12px',
                  borderRadius: '12px',
                  border: '1px solid #e5e7eb'
                }}>
                  <div style={{
                    width: '32px',
                    height: '32px',
                    borderRadius: '50%',
                    background: 'linear-gradient(135deg, #ea580c, #dc2626)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    color: 'white',
                    fontSize: '14px',
                    fontWeight: 'bold'
                  }}>
                    {(user?.name || user?.email || 'U').charAt(0).toUpperCase()}
                  </div>
                  <div>
                    <div style={{ 
                      color: '#111', 
                      fontSize: '14px', 
                      fontWeight: '600',
                      lineHeight: '1.2'
                    }}>
                      {user?.name || user?.email?.split('@')[0]}
                    </div>
                    <div style={{ 
                      color: '#8b5cf6', 
                      fontSize: '11px', 
                      fontWeight: '600',
                      textTransform: 'uppercase',
                      letterSpacing: '0.5px'
                    }}>
                      {user?.role}
                    </div>
                  </div>
                  <button 
                    onClick={logout}
                    style={{ 
                      backgroundColor: 'transparent',
                      color: '#dc2626', 
                      padding: '6px', 
                      border: 'none',
                      borderRadius: '6px',
                      cursor: 'pointer',
                      fontSize: '16px',
                      display: 'flex',
                      alignItems: 'center',
                      transition: 'all 0.3s ease'
                    }}
                    title="Logout"
                  >
                    üö™
                  </button>
                </div>
              </div>
            ) : (
              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                {/* CTA Buttons for Non-authenticated Users */}
                <Link to="/become-seller" style={{ 
                  color: '#16a34a', 
                  textDecoration: 'none', 
                  fontSize: '14px', 
                  fontWeight: '600',
                  padding: '8px 12px',
                  borderRadius: '8px',
                  background: 'linear-gradient(135deg, #f0fdf4, #dcfce7)',
                  border: '1px solid #bbf7d0',
                  transition: 'all 0.3s ease'
                }}>
                  <span style={{ marginRight: '4px' }}>üè™</span>
                  Sell
                </Link>
                
                <Link to="/become-affiliate" style={{ 
                  color: '#3b82f6', 
                  textDecoration: 'none', 
                  fontSize: '14px', 
                  fontWeight: '600',
                  padding: '8px 12px',
                  borderRadius: '8px',
                  background: 'linear-gradient(135deg, #f0f9ff, #dbeafe)',
                  border: '1px solid #bfdbfe',
                  transition: 'all 0.3s ease'
                }}>
                  <span style={{ marginRight: '4px' }}>ü§ù</span>
                  Earn
                </Link>

                <Link to="/login" style={{ 
                  background: 'linear-gradient(135deg, #ea580c, #dc2626)',
                  color: 'white', 
                  padding: '12px 20px', 
                  border: 'none',
                  borderRadius: '12px',
                  textDecoration: 'none',
                  fontSize: '15px',
                  fontWeight: 'bold',
                  boxShadow: '0 4px 16px rgba(234, 88, 12, 0.3)',
                  transition: 'all 0.3s ease',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '6px'
                }}>
                  <span>‚ú®</span>
                  Sign In
                </Link>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

// Homepage Component
const HomePage = () => {
  const [showChat, setShowChat] = useState(false);

  return (
    <div>
      {/* Ultra-Modern Hero Section */}
      <div style={{ 
        background: 'linear-gradient(135deg, #f59e0b 0%, #ea580c 30%, #dc2626 70%, #b91c1c 100%)',
        padding: '80px 40px',
        position: 'relative',
        overflow: 'hidden'
      }}>
        {/* Animated Background Elements */}
        <div style={{
          position: 'absolute',
          top: '20px',
          right: '20px',
          fontSize: '120px',
          opacity: '0.08',
          color: 'white',
          transform: 'rotate(15deg)',
          animation: 'float 6s ease-in-out infinite'
        }}>üêù</div>
        <div style={{
          position: 'absolute',
          top: '60px',
          left: '10%',
          fontSize: '40px',
          opacity: '0.06',
          color: 'white'
        }}>üõçÔ∏è</div>
        <div style={{
          position: 'absolute',
          bottom: '40px',
          right: '15%',
          fontSize: '50px',
          opacity: '0.06',
          color: 'white'
        }}>‚ù§Ô∏è</div>
        
        <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'center' }}>
          <div style={{
            display: 'inline-block',
            background: 'rgba(255, 255, 255, 0.15)',
            backdropFilter: 'blur(10px)',
            padding: '8px 16px',
            borderRadius: '20px',
            color: '#fef08a',
            fontSize: '14px',
            fontWeight: '600',
            marginBottom: '24px',
            border: '1px solid rgba(255, 255, 255, 0.2)'
          }}>
            ‚ú® REVOLUTIONARY MARKETPLACE ‚Ä¢ LAUNCHING NOW
          </div>
          
          <h1 style={{ 
            fontSize: '56px', 
            fontWeight: 'bold', 
            color: 'white', 
            marginBottom: '20px',
            margin: '0 0 20px 0',
            textShadow: '2px 2px 8px rgba(0,0,0,0.3)',
            lineHeight: '1.1'
          }}>
            Welcome to <span style={{ 
              color: '#fef08a',
              background: 'linear-gradient(135deg, #fef08a, #fbbf24)',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent'
            }}>Beezio.co</span>
          </h1>
          
          <p style={{ 
            fontSize: '24px', 
            color: '#f3f4f6', 
            marginBottom: '16px',
            margin: '0 0 16px 0',
            fontWeight: '600',
            textShadow: '1px 1px 2px rgba(0,0,0,0.2)'
          }}>
            The Powerhouse Marketplace That Revolutionizes Success
          </p>
          
          <p style={{ 
            fontSize: '18px', 
            color: '#e5e7eb', 
            marginBottom: '32px',
            margin: '0 0 32px 0',
            maxWidth: '700px',
            marginLeft: 'auto',
            marginRight: 'auto',
            lineHeight: '1.6'
          }}>
            üöÄ Zero platform fees ‚Ä¢ üí∞ Recurring commissions ‚Ä¢ üåç Multi-country support ‚Ä¢ ‚ö° Instant payouts
          </p>
          
          <div style={{ display: 'flex', gap: '16px', justifyContent: 'center', flexWrap: 'wrap' }}>
            <Link to="/seller-signup" style={{ 
              background: 'linear-gradient(135deg, #ffffff, #f9fafb)', 
              color: '#ea580c', 
              padding: '18px 32px', 
              borderRadius: '16px', 
              textDecoration: 'none',
              fontSize: '18px',
              fontWeight: 'bold',
              boxShadow: '0 8px 32px rgba(0,0,0,0.2)',
              transition: 'all 0.3s ease',
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
              border: '2px solid rgba(255, 255, 255, 0.3)'
            }}>
              <span style={{ fontSize: '20px' }}>üè™</span>
              Start Selling Today
            </Link>
            
            <Link to="/affiliate-signup" style={{ 
              background: 'rgba(255, 255, 255, 0.15)',
              backdropFilter: 'blur(10px)',
              color: 'white', 
              padding: '18px 32px', 
              borderRadius: '16px', 
              textDecoration: 'none',
              fontSize: '18px',
              fontWeight: 'bold',
              boxShadow: '0 8px 32px rgba(0,0,0,0.1)',
              transition: 'all 0.3s ease',
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
              border: '2px solid rgba(255, 255, 255, 0.3)'
            }}>
              <span style={{ fontSize: '20px' }}>ü§ù</span>
              Earn Commissions
            </Link>
            
            <Link to="/marketplace" style={{ 
              background: 'transparent',
              color: 'white', 
              padding: '18px 32px', 
              borderRadius: '16px', 
              textDecoration: 'none',
              fontSize: '18px',
              fontWeight: 'bold',
              transition: 'all 0.3s ease',
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
              border: '2px solid rgba(255, 255, 255, 0.4)'
            }}>
              <span style={{ fontSize: '20px' }}>üõçÔ∏è</span>
              Explore Products
            </Link>
          </div>
          
          {/* Stats Bar */}
          <div style={{
            display: 'flex',
            justifyContent: 'center',
            gap: '40px',
            marginTop: '48px',
            flexWrap: 'wrap'
          }}>
            <div style={{ textAlign: 'center' }}>
              <div style={{ 
                fontSize: '28px', 
                fontWeight: 'bold', 
                color: '#fef08a',
                textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
              }}>
                1,000+
              </div>
              <div style={{ fontSize: '14px', color: '#e5e7eb', fontWeight: '600' }}>
                Products
              </div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ 
                fontSize: '28px', 
                fontWeight: 'bold', 
                color: '#fef08a',
                textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
              }}>
                500+
              </div>
              <div style={{ fontSize: '14px', color: '#e5e7eb', fontWeight: '600' }}>
                Sellers
              </div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ 
                fontSize: '28px', 
                fontWeight: 'bold', 
                color: '#fef08a',
                textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
              }}>
                $2M+
              </div>
              <div style={{ fontSize: '14px', color: '#e5e7eb', fontWeight: '600' }}>
                Raised
              </div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ 
                fontSize: '28px', 
                fontWeight: 'bold', 
                color: '#fef08a',
                textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
              }}>
                50+
              </div>
              <div style={{ fontSize: '14px', color: '#e5e7eb', fontWeight: '600' }}>
                Countries
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Premium Featured Products Section */}
      <div style={{ 
        background: 'linear-gradient(135deg, #f9fafb 0%, #ffffff 50%, #f3f4f6 100%)',
        padding: '100px 40px',
        position: 'relative'
      }}>
        {/* Decorative Elements */}
        <div style={{
          position: 'absolute',
          top: '50px',
          left: '5%',
          width: '60px',
          height: '60px',
          background: 'linear-gradient(135deg, #ea580c, #dc2626)',
          borderRadius: '50%',
          opacity: '0.1'
        }}></div>
        <div style={{
          position: 'absolute',
          bottom: '80px',
          right: '8%',
          width: '40px',
          height: '40px',
          background: 'linear-gradient(135deg, #8b5cf6, #7c3aed)',
          borderRadius: '50%',
          opacity: '0.1'
        }}></div>
        
        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
          <div style={{ textAlign: 'center', marginBottom: '60px' }}>
            <div style={{
              display: 'inline-block',
              background: 'linear-gradient(135deg, #fef7f0, #fed7aa)',
              color: '#ea580c',
              padding: '8px 20px',
              borderRadius: '25px',
              fontSize: '14px',
              fontWeight: '700',
              marginBottom: '20px',
              border: '2px solid #fed7aa'
            }}>
              ‚ú® TRENDING NOW
            </div>
            
            <h2 style={{ 
              fontSize: '48px', 
              fontWeight: 'bold', 
              background: 'linear-gradient(135deg, #111, #374151)',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              marginBottom: '16px',
              lineHeight: '1.2'
            }}>
              üî• Featured Products
            </h2>
            <p style={{ 
              fontSize: '20px', 
              color: '#6b7280',
              maxWidth: '600px',
              margin: '0 auto'
            }}>
              Premium products with exceptional commission rates and proven sales success
            </p>
          </div>
          
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(380px, 1fr))', gap: '32px' }}>
            {featuredProducts.map(product => {
              const savings = product.originalPrice - product.price;
              const progressPercent = (product.commission / 50) * 100;
              
              return (
                <div key={product.id} style={{ 
                  background: 'linear-gradient(135deg, #ffffff, #fefefe)', 
                  borderRadius: '20px', 
                  boxShadow: '0 20px 40px rgba(0,0,0,0.08)',
                  overflow: 'hidden',
                  position: 'relative',
                  transition: 'all 0.4s ease',
                  border: '1px solid #f1f5f9'
                }}>
                  {/* Premium Badge */}
                  <div style={{
                    position: 'absolute',
                    top: '20px',
                    right: '16px',
                    backgroundColor: '#dc2626',
                    color: 'white',
                    padding: '8px 12px',
                    borderRadius: '8px',
                    fontSize: '14px',
                    fontWeight: 'bold',
                    zIndex: 1
                  }}>
                    Save ${savings.toFixed(2)}
                  </div>
                  <img 
                    src={product.image} 
                    alt={product.name} 
                    style={{ width: '100%', height: '240px', objectFit: 'cover' }} 
                  />
                  <div style={{ padding: '24px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '12px', color: '#111' }}>
                      {product.name}
                    </h3>
                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '12px' }}>
                      <span style={{ color: '#fbbf24', marginRight: '8px' }}>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                      <span style={{ fontSize: '14px', color: '#666' }}>{product.rating} ({product.reviews} reviews)</span>
                    </div>
                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>
                      <span style={{ fontSize: '28px', fontWeight: 'bold', color: '#16a34a' }}>
                        ${product.price}
                      </span>
                      <span style={{ fontSize: '18px', color: '#9ca3af', textDecoration: 'line-through' }}>
                        ${product.originalPrice}
                      </span>
                    </div>
                    <div style={{ 
                      backgroundColor: '#f3f4f6', 
                      padding: '12px',
                      borderRadius: '8px',
                      marginBottom: '16px'
                    }}>
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>
                        <span style={{ fontSize: '14px', fontWeight: 'bold', color: '#ea580c' }}>
                          {product.commission}% Commission
                        </span>
                        <span style={{ fontSize: '14px', color: '#666' }}>
                          Earn ${(product.price * product.commission / 100).toFixed(2)}
                        </span>
                      </div>
                      <div style={{ 
                        width: '100%', 
                        height: '4px',
                        backgroundColor: '#e5e7eb',
                        borderRadius: '2px',
                        overflow: 'hidden'
                      }}>
                        <div style={{
                          width: `${progressPercent}%`,
                          height: '100%',
                          backgroundColor: '#ea580c',
                          borderRadius: '2px'
                        }}></div>
                      </div>
                    </div>
                    <p style={{ fontSize: '14px', color: '#666', marginBottom: '16px' }}>
                      By {product.seller}
                    </p>
                    <div style={{ display: 'flex', gap: '8px' }}>
                      <Link to={`/product/${product.id}`} style={{
                        flex: 1,
                        backgroundColor: '#ea580c',
                        color: 'white',
                        padding: '12px',
                        borderRadius: '8px',
                        textAlign: 'center',
                        textDecoration: 'none',
                        fontSize: '16px',
                        fontWeight: 'bold'
                      }}>
                        View Product
                      </Link>
                      <button style={{
                        backgroundColor: '#f3f4f6',
                        border: 'none',
                        padding: '12px',
                        borderRadius: '8px',
                        cursor: 'pointer',
                        fontSize: '16px'
                      }}>
                        üîó
                      </button>
                    </div>
                  </div>
                </div>
              );
            })}
          </div>
          <div style={{ textAlign: 'center', marginTop: '40px' }}>
            <Link to="/marketplace" style={{
              backgroundColor: '#ea580c',
              color: 'white',
              padding: '16px 32px',
              borderRadius: '12px',
              textDecoration: 'none',
              fontSize: '18px',
              fontWeight: 'bold'
            }}>
              View All Products ‚Üí
            </Link>
          </div>
        </div>
      </div>

      {/* Active Fundraisers Section */}
      <div style={{ backgroundColor: '#f9fafb', padding: '80px 40px' }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
          <div style={{ textAlign: 'center', marginBottom: '50px' }}>
            <h2 style={{ fontSize: '42px', fontWeight: 'bold', color: '#111', marginBottom: '16px' }}>
              ‚ù§Ô∏è Community Fundraisers
            </h2>
            <p style={{ fontSize: '18px', color: '#666' }}>
              Support meaningful causes while building your network
            </p>
          </div>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '30px' }}>
            {activeFundraisers.map(fundraiser => {
              const progressPercent = (fundraiser.raised / fundraiser.goal) * 100;
              
              return (
                <div key={fundraiser.id} style={{ 
                  backgroundColor: 'white', 
                  borderRadius: '16px', 
                  boxShadow: '0 12px 24px rgba(0,0,0,0.1)',
                  overflow: 'hidden'
                }}>
                  <img 
                    src={fundraiser.image} 
                    alt={fundraiser.title} 
                    style={{ width: '100%', height: '200px', objectFit: 'cover' }} 
                  />
                  <div style={{ padding: '24px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '12px', color: '#111' }}>
                      {fundraiser.title}
                    </h3>
                    <p style={{ fontSize: '14px', color: '#666', marginBottom: '16px' }}>
                      By {fundraiser.organizer}
                    </p>
                    <div style={{ marginBottom: '16px' }}>
                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>
                        <span style={{ fontSize: '16px', fontWeight: 'bold', color: '#16a34a' }}>
                          ${fundraiser.raised.toLocaleString()} raised
                        </span>
                        <span style={{ fontSize: '14px', color: '#666' }}>
                          ${fundraiser.goal.toLocaleString()} goal
                        </span>
                      </div>
                      <div style={{ 
                        width: '100%', 
                        height: '8px',
                        backgroundColor: '#e5e7eb',
                        borderRadius: '4px',
                        overflow: 'hidden'
                      }}>
                        <div style={{
                          width: `${Math.min(progressPercent, 100)}%`,
                          height: '100%',
                          backgroundColor: '#16a34a',
                          borderRadius: '4px'
                        }}></div>
                      </div>
                      <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '8px' }}>
                        <span style={{ fontSize: '14px', color: '#666' }}>
                          {progressPercent.toFixed(1)}% funded
                        </span>
                        <span style={{ fontSize: '14px', color: '#666' }}>
                          {fundraiser.daysLeft} days left
                        </span>
                      </div>
                    </div>
                    <div style={{ display: 'flex', gap: '8px' }}>
                      <Link to={`/fundraiser/${fundraiser.id}`} style={{
                        flex: 1,
                        backgroundColor: '#16a34a',
                        color: 'white',
                        padding: '12px',
                        borderRadius: '8px',
                        textAlign: 'center',
                        textDecoration: 'none',
                        fontSize: '16px',
                        fontWeight: 'bold'
                      }}>
                        Donate Now
                      </Link>
                      <button style={{
                        backgroundColor: '#f3f4f6',
                        border: 'none',
                        padding: '12px',
                        borderRadius: '8px',
                        cursor: 'pointer',
                        fontSize: '16px'
                      }}>
                        üì§
                      </button>
                    </div>
                  </div>
                </div>
              );
            })}
          </div>
          <div style={{ textAlign: 'center', marginTop: '40px' }}>
            <Link to="/fundraisers" style={{
              backgroundColor: '#16a34a',
              color: 'white',
              padding: '16px 32px',
              borderRadius: '12px',
              textDecoration: 'none',
              fontSize: '18px',
              fontWeight: 'bold'
            }}>
              View All Fundraisers ‚Üí
            </Link>
          </div>
        </div>
      </div>

      {/* Global Reach Section */}
      <div style={{ backgroundColor: 'white', padding: '80px 40px' }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto', textAlign: 'center' }}>
          <h2 style={{ fontSize: '42px', fontWeight: 'bold', color: '#111', marginBottom: '20px' }}>
            üåç Global Marketplace
          </h2>
          <p style={{ fontSize: '18px', color: '#666', marginBottom: '40px' }}>
            Sell and earn across multiple countries with local currency support
          </p>
          <div style={{ display: 'flex', justifyContent: 'center', gap: '40px', flexWrap: 'wrap' }}>
            <div style={{ textAlign: 'center' }}>
              <div style={{ fontSize: '32px', marginBottom: '8px' }}>üá∫üá∏</div>
              <div style={{ fontWeight: 'bold' }}>United States</div>
              <div style={{ color: '#666', fontSize: '14px' }}>USD Support</div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ fontSize: '32px', marginBottom: '8px' }}>üá®üá¶</div>
              <div style={{ fontWeight: 'bold' }}>Canada</div>
              <div style={{ color: '#666', fontSize: '14px' }}>CAD Support</div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ fontSize: '32px', marginBottom: '8px' }}>üá¨üáß</div>
              <div style={{ fontWeight: 'bold' }}>United Kingdom</div>
              <div style={{ color: '#666', fontSize: '14px' }}>GBP Support</div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ fontSize: '32px', marginBottom: '8px' }}>üá™üá∫</div>
              <div style={{ fontWeight: 'bold' }}>European Union</div>
              <div style={{ color: '#666', fontSize: '14px' }}>EUR Support</div>
            </div>
            <div style={{ textAlign: 'center' }}>
              <div style={{ fontSize: '32px', marginBottom: '8px' }}>üá¶üá∫</div>
              <div style={{ fontWeight: 'bold' }}>Australia</div>
              <div style={{ color: '#666', fontSize: '14px' }}>AUD Support</div>
            </div>
          </div>
        </div>
      </div>

      {/* Chat Bot */}
      <div style={{
        position: 'fixed',
        bottom: '20px',
        right: '20px',
        zIndex: 1000
      }}>
        <button
          onClick={() => setShowChat(!showChat)}
          style={{
            backgroundColor: '#ea580c',
            color: 'white',
            border: 'none',
            borderRadius: '50%',
            width: '60px',
            height: '60px',
            fontSize: '24px',
            cursor: 'pointer',
            boxShadow: '0 4px 12px rgba(0,0,0,0.3)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center'
          }}
        >
          üí¨
        </button>
        
        {showChat && (
          <div style={{
            position: 'absolute',
            bottom: '70px',
            right: '0',
            width: '320px',
            height: '400px',
            backgroundColor: 'white',
            borderRadius: '12px',
            boxShadow: '0 8px 24px rgba(0,0,0,0.2)',
            display: 'flex',
            flexDirection: 'column'
          }}>
            <div style={{
              backgroundColor: '#ea580c',
              color: 'white',
              padding: '16px',
              borderTopLeftRadius: '12px',
              borderTopRightRadius: '12px',
              fontWeight: 'bold'
            }}>
              üêù Beezio Support
            </div>
            <div style={{
              flex: 1,
              padding: '20px',
              display: 'flex',
              flexDirection: 'column',
              justifyContent: 'center',
              textAlign: 'center'
            }}>
              <div style={{ fontSize: '24px', marginBottom: '16px' }}>üëã</div>
              <p style={{ marginBottom: '16px', color: '#333' }}>
                Hi! I'm here to help you get started with Beezio.co
              </p>
              <p style={{ fontSize: '14px', color: '#666', marginBottom: '20px' }}>
                Ask me about:
              </p>
              <div style={{ textAlign: 'left', fontSize: '14px', color: '#666' }}>
                ‚Ä¢ Setting up your seller dashboard<br/>
                ‚Ä¢ Affiliate programs & commissions<br/>
                ‚Ä¢ Multi-country selling<br/>
                ‚Ä¢ Checkout & payment processing<br/>
                ‚Ä¢ Supabase integration
              </div>
            </div>
            <div style={{
              padding: '16px',
              borderTop: '1px solid #eee'
            }}>
              <input
                type="text"
                placeholder="Type your message..."
                style={{
                  width: '100%',
                  padding: '8px 12px',
                  border: '1px solid #ddd',
                  borderRadius: '6px',
                  fontSize: '14px'
                }}
              />
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

// Comprehensive Seller Dashboard
const SellerDashboard = () => {
  const { user } = useAuth();
  const [activeTab, setActiveTab] = useState('overview');
  const [products] = useState([
    { 
      id: 1, 
      name: "Wireless Noise-Cancelling Headphones", 
      price: 149.99, 
      cost: 75.00,
      sold: 24, 
      inventory: 156,
      commission: 25, 
      earnings: 1799.76,
      status: 'active',
      category: 'Electronics',
      image: "https://images.pexels.com/photos/3587478/pexels-photo-3587478.jpeg?auto=compress&cs=tinysrgb&w=100",
      affiliates: 8,
      views: 2847,
      conversion: 3.2
    },
    { 
      id: 2, 
      name: "Premium Leather Wallet", 
      price: 89.99, 
      cost: 35.00,
      sold: 18, 
      inventory: 89,
      commission: 30, 
      earnings: 989.82,
      status: 'active',
      category: 'Fashion',
      image: "https://images.pexels.com/photos/1240892/pexels-photo-1240892.jpeg?auto=compress&cs=tinysrgb&w=100",
      affiliates: 12,
      views: 1543,
      conversion: 4.1
    }
  ]);

  const [orders] = useState([
    { id: 1, customer: "John Smith", product: "Wireless Headphones", amount: 149.99, status: "Processing", date: "2025-01-28", affiliate: "TechReviewer123" },
    { id: 2, customer: "Sarah Johnson", product: "Leather Wallet", amount: 89.99, status: "Shipped", date: "2025-01-27", affiliate: "FashionBlogger" },
    { id: 3, customer: "Mike Chen", product: "Wireless Headphones", amount: 149.99, status: "Delivered", date: "2025-01-26", affiliate: null }
  ]);

  const totalRevenue = products.reduce((sum, p) => sum + p.earnings, 0);
  const totalProfit = products.reduce((sum, p) => sum + ((p.price - p.cost) * p.sold), 0);
  const totalOrders = products.reduce((sum, p) => sum + p.sold, 0);

  if (!user || user.role !== 'seller') {
    return <Navigate to="/login" replace />;
  }

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ maxWidth: '1400px', margin: '0 auto', padding: '40px' }}>
        <div style={{ marginBottom: '40px' }}>
          <h1 style={{ fontSize: '32px', fontWeight: 'bold', color: '#111', marginBottom: '8px' }}>
            Seller Dashboard
          </h1>
          <p style={{ color: '#666', fontSize: '16px' }}>
            Welcome back, {user.name}! Here's your store performance.
          </p>
        </div>
        
        {/* Stats Overview */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '20px', marginBottom: '40px' }}>
          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Total Revenue</div>
              <div style={{ fontSize: '24px' }}>üí∞</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#16a34a', marginBottom: '8px' }}>
              ${totalRevenue.toLocaleString()}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +23% this month
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Net Profit</div>
              <div style={{ fontSize: '24px' }}>üìà</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#3b82f6', marginBottom: '8px' }}>
              ${totalProfit.toLocaleString()}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +18% this month
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Total Orders</div>
              <div style={{ fontSize: '24px' }}>üì¶</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#8b5cf6', marginBottom: '8px' }}>
              {totalOrders}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +12 this week
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Active Affiliates</div>
              <div style={{ fontSize: '24px' }}>ü§ù</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#f59e0b', marginBottom: '8px' }}>
              {products.reduce((sum, p) => sum + p.affiliates, 0)}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +3 this week
            </div>
          </div>
        </div>

        {/* Navigation Tabs */}
        <div style={{ backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', marginBottom: '20px' }}>
          <div style={{ display: 'flex', borderBottom: '1px solid #e5e7eb' }}>
            {[
              { id: 'overview', label: 'Overview', icon: 'üìä' },
              { id: 'products', label: 'Products', icon: 'üõçÔ∏è' },
              { id: 'orders', label: 'Orders', icon: 'üì¶' },
              { id: 'affiliates', label: 'Affiliates', icon: 'ü§ù' },
              { id: 'analytics', label: 'Analytics', icon: 'üìà' }
            ].map(tab => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                style={{
                  padding: '16px 24px',
                  border: 'none',
                  backgroundColor: activeTab === tab.id ? '#f9fafb' : 'transparent',
                  borderBottom: activeTab === tab.id ? '3px solid #ea580c' : '3px solid transparent',
                  cursor: 'pointer',
                  fontSize: '16px',
                  fontWeight: activeTab === tab.id ? 'bold' : 'normal',
                  color: activeTab === tab.id ? '#ea580c' : '#666'
                }}
              >
                {tab.icon} {tab.label}
              </button>
            ))}
          </div>

          <div style={{ padding: '32px' }}>
            {activeTab === 'products' && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>
                  <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111' }}>Your Products</h2>
                  <button style={{
                    backgroundColor: '#ea580c',
                    color: 'white',
                    padding: '12px 24px',
                    border: 'none',
                    borderRadius: '8px',
                    fontSize: '16px',
                    fontWeight: 'bold',
                    cursor: 'pointer'
                  }}>
                    + Add New Product
                  </button>
                </div>
                
                <div style={{ display: 'grid', gap: '20px' }}>
                  {products.map(product => (
                    <div key={product.id} style={{ 
                      backgroundColor: '#f9fafb', 
                      padding: '20px', 
                      borderRadius: '8px',
                      display: 'grid',
                      gridTemplateColumns: '80px 1fr auto',
                      gap: '20px',
                      alignItems: 'center'
                    }}>
                      <img src={product.image} alt={product.name} style={{ width: '80px', height: '80px', objectFit: 'cover', borderRadius: '8px' }} />
                      <div>
                        <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '8px', color: '#111' }}>{product.name}</h3>
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '16px', fontSize: '14px' }}>
                          <div><span style={{ color: '#666' }}>Price:</span> <strong>${product.price}</strong></div>
                          <div><span style={{ color: '#666' }}>Sold:</span> <strong>{product.sold}</strong></div>
                          <div><span style={{ color: '#666' }}>Stock:</span> <strong>{product.inventory}</strong></div>
                          <div><span style={{ color: '#666' }}>Revenue:</span> <strong style={{ color: '#16a34a' }}>${product.earnings}</strong></div>
                          <div><span style={{ color: '#666' }}>Affiliates:</span> <strong>{product.affiliates}</strong></div>
                          <div><span style={{ color: '#666' }}>Conversion:</span> <strong>{product.conversion}%</strong></div>
                        </div>
                      </div>
                      <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                        <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Edit
                        </button>
                        <button style={{ backgroundColor: '#16a34a', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Promote
                        </button>
                        <button style={{ backgroundColor: '#f3f4f6', color: '#666', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Analytics
                        </button>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {activeTab === 'orders' && (
              <div>
                <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111', marginBottom: '24px' }}>Recent Orders</h2>
                <div style={{ overflow: 'auto' }}>
                  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                    <thead>
                      <tr style={{ backgroundColor: '#f9fafb' }}>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Order ID</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Customer</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Product</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Amount</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Affiliate</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Status</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Date</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {orders.map(order => (
                        <tr key={order.id} style={{ borderBottom: '1px solid #e5e7eb' }}>
                          <td style={{ padding: '16px', fontFamily: 'monospace' }}>#{order.id.toString().padStart(6, '0')}</td>
                          <td style={{ padding: '16px', fontWeight: 'bold' }}>{order.customer}</td>
                          <td style={{ padding: '16px' }}>{order.product}</td>
                          <td style={{ padding: '16px', fontWeight: 'bold', color: '#16a34a' }}>${order.amount}</td>
                          <td style={{ padding: '16px' }}>{order.affiliate || 'Direct'}</td>
                          <td style={{ padding: '16px' }}>
                            <span style={{
                              backgroundColor: order.status === 'Delivered' ? '#dcfce7' : order.status === 'Shipped' ? '#fef3c7' : '#dbeafe',
                              color: order.status === 'Delivered' ? '#16a34a' : order.status === 'Shipped' ? '#d97706' : '#3b82f6',
                              padding: '4px 8px',
                              borderRadius: '4px',
                              fontSize: '12px',
                              fontWeight: 'bold'
                            }}>
                              {order.status}
                            </span>
                          </td>
                          <td style={{ padding: '16px' }}>{order.date}</td>
                          <td style={{ padding: '16px' }}>
                            <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '6px 12px', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}>
                              View Details
                            </button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>
            )}

            {activeTab === 'overview' && (
              <div>
                <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111', marginBottom: '24px' }}>Dashboard Overview</h2>
                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '24px' }}>
                  <div>
                    <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '16px' }}>Top Performing Products</h3>
                    {products.map(product => (
                      <div key={product.id} style={{ 
                        backgroundColor: '#f9fafb', 
                        padding: '16px', 
                        borderRadius: '8px', 
                        marginBottom: '12px',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                      }}>
                        <div>
                          <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>{product.name}</div>
                          <div style={{ fontSize: '14px', color: '#666' }}>{product.sold} sold ‚Ä¢ ${product.earnings} revenue</div>
                        </div>
                        <div style={{ textAlign: 'right' }}>
                          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#16a34a' }}>{product.conversion}%</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>conversion</div>
                        </div>
                      </div>
                    ))}
                  </div>
                  <div>
                    <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '16px' }}>Quick Actions</h3>
                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                      <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üì¶ Add New Product
                      </button>
                      <button style={{ backgroundColor: '#16a34a', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        ü§ù Invite Affiliates
                      </button>
                      <button style={{ backgroundColor: '#3b82f6', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üìä View Analytics
                      </button>
                      <button style={{ backgroundColor: '#8b5cf6', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üí∞ Payout Settings
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

// Comprehensive Affiliate Dashboard
const AffiliateDashboard = () => {
  const { user } = useAuth();
  const [activeTab, setActiveTab] = useState('overview');
  const [affiliateLinks] = useState([
    { 
      id: 1, 
      product: "Wireless Noise-Cancelling Headphones", 
      seller: "TechGear Pro",
      link: "beezio.co/aff/abc123", 
      shortLink: "bzio.co/abc123",
      clicks: 156, 
      sales: 24, 
      commission: 25,
      commissionEarned: 899.76,
      conversionRate: 15.4,
      created: "2025-01-15",
      lastClick: "2025-01-28",
      isActive: true
    },
    { 
      id: 2, 
      product: "Premium Leather Wallet", 
      seller: "Sarah's Crafts",
      link: "beezio.co/aff/def456", 
      shortLink: "bzio.co/def456",
      clicks: 89, 
      sales: 12, 
      commission: 30,
      commissionEarned: 323.96,
      conversionRate: 13.5,
      created: "2025-01-20",
      lastClick: "2025-01-27",
      isActive: true
    }
  ]);

  const [payouts] = useState([
    { id: 1, amount: 450.00, status: "Paid", date: "2025-01-15", method: "PayPal" },
    { id: 2, amount: 280.50, status: "Pending", date: "2025-01-28", method: "Bank Transfer" },
    { id: 3, amount: 320.75, status: "Processing", date: "2025-01-25", method: "PayPal" }
  ]);

  const totalEarnings = affiliateLinks.reduce((sum, link) => sum + link.commissionEarned, 0);
  const totalClicks = affiliateLinks.reduce((sum, link) => sum + link.clicks, 0);
  const totalSales = affiliateLinks.reduce((sum, link) => sum + link.sales, 0);
  const avgConversion = affiliateLinks.reduce((sum, link) => sum + link.conversionRate, 0) / affiliateLinks.length;

  if (!user || user.role !== 'affiliate') {
    return <Navigate to="/login" replace />;
  }

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ maxWidth: '1400px', margin: '0 auto', padding: '40px' }}>
        <div style={{ marginBottom: '40px' }}>
          <h1 style={{ fontSize: '32px', fontWeight: 'bold', color: '#111', marginBottom: '8px' }}>
            Affiliate Dashboard
          </h1>
          <p style={{ color: '#666', fontSize: '16px' }}>
            Welcome back, {user.name}! Track your affiliate performance and earnings.
          </p>
        </div>
        
        {/* Stats Overview */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '20px', marginBottom: '40px' }}>
          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Total Earnings</div>
              <div style={{ fontSize: '24px' }}>üí∞</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#16a34a', marginBottom: '8px' }}>
              ${totalEarnings.toLocaleString()}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +18% this month
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Total Clicks</div>
              <div style={{ fontSize: '24px' }}>üëÜ</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#3b82f6', marginBottom: '8px' }}>
              {totalClicks.toLocaleString()}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +25 today
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Conversions</div>
              <div style={{ fontSize: '24px' }}>üéØ</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#8b5cf6', marginBottom: '8px' }}>
              {totalSales}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> {avgConversion.toFixed(1)}% rate
            </div>
          </div>

          <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', border: '1px solid #e5e7eb' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>
              <div style={{ fontSize: '14px', color: '#666', fontWeight: '500' }}>Active Links</div>
              <div style={{ fontSize: '24px' }}>üîó</div>
            </div>
            <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#f59e0b', marginBottom: '8px' }}>
              {affiliateLinks.filter(link => link.isActive).length}
            </div>
            <div style={{ fontSize: '12px', color: '#16a34a', display: 'flex', alignItems: 'center' }}>
              <span style={{ marginRight: '4px' }}>‚Üó</span> +2 this week
            </div>
          </div>
        </div>

        {/* Navigation Tabs */}
        <div style={{ backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', marginBottom: '20px' }}>
          <div style={{ display: 'flex', borderBottom: '1px solid #e5e7eb' }}>
            {[
              { id: 'overview', label: 'Overview', icon: 'üìä' },
              { id: 'links', label: 'My Links', icon: 'üîó' },
              { id: 'earnings', label: 'Earnings', icon: 'üí∞' },
              { id: 'products', label: 'Find Products', icon: 'üõçÔ∏è' },
              { id: 'payouts', label: 'Payouts', icon: 'üí≥' }
            ].map(tab => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                style={{
                  padding: '16px 24px',
                  border: 'none',
                  backgroundColor: activeTab === tab.id ? '#f9fafb' : 'transparent',
                  borderBottom: activeTab === tab.id ? '3px solid #ea580c' : '3px solid transparent',
                  cursor: 'pointer',
                  fontSize: '16px',
                  fontWeight: activeTab === tab.id ? 'bold' : 'normal',
                  color: activeTab === tab.id ? '#ea580c' : '#666'
                }}
              >
                {tab.icon} {tab.label}
              </button>
            ))}
          </div>

          <div style={{ padding: '32px' }}>
            {activeTab === 'links' && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>
                  <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111' }}>Your Affiliate Links</h2>
                  <button style={{
                    backgroundColor: '#ea580c',
                    color: 'white',
                    padding: '12px 24px',
                    border: 'none',
                    borderRadius: '8px',
                    fontSize: '16px',
                    fontWeight: 'bold',
                    cursor: 'pointer'
                  }}>
                    + Create New Link
                  </button>
                </div>
                
                <div style={{ display: 'grid', gap: '20px' }}>
                  {affiliateLinks.map(link => (
                    <div key={link.id} style={{ 
                      backgroundColor: '#f9fafb', 
                      padding: '24px', 
                      borderRadius: '12px',
                      border: '1px solid #e5e7eb'
                    }}>
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '16px' }}>
                        <div>
                          <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '8px', color: '#111' }}>{link.product}</h3>
                          <p style={{ fontSize: '14px', color: '#666', marginBottom: '8px' }}>by {link.seller}</p>
                          <div style={{ display: 'flex', gap: '16px', fontSize: '14px' }}>
                            <span><strong>Commission:</strong> {link.commission}%</span>
                            <span><strong>Created:</strong> {link.created}</span>
                            <span><strong>Last Click:</strong> {link.lastClick}</span>
                          </div>
                        </div>
                        <div style={{ 
                          backgroundColor: link.isActive ? '#dcfce7' : '#fef2f2',
                          color: link.isActive ? '#16a34a' : '#dc2626',
                          padding: '4px 8px',
                          borderRadius: '4px',
                          fontSize: '12px',
                          fontWeight: 'bold'
                        }}>
                          {link.isActive ? 'Active' : 'Inactive'}
                        </div>
                      </div>
                      
                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '16px', marginBottom: '16px' }}>
                        <div style={{ textAlign: 'center', padding: '12px', backgroundColor: 'white', borderRadius: '8px' }}>
                          <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#3b82f6' }}>{link.clicks}</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>Clicks</div>
                        </div>
                        <div style={{ textAlign: 'center', padding: '12px', backgroundColor: 'white', borderRadius: '8px' }}>
                          <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#8b5cf6' }}>{link.sales}</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>Sales</div>
                        </div>
                        <div style={{ textAlign: 'center', padding: '12px', backgroundColor: 'white', borderRadius: '8px' }}>
                          <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#16a34a' }}>$${link.commissionEarned}</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>Earned</div>
                        </div>
                        <div style={{ textAlign: 'center', padding: '12px', backgroundColor: 'white', borderRadius: '8px' }}>
                          <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#f59e0b' }}>{link.conversionRate}%</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>Conversion</div>
                        </div>
                      </div>
                      
                      <div style={{ backgroundColor: 'white', padding: '12px', borderRadius: '8px', marginBottom: '16px' }}>
                        <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Full Link:</div>
                        <div style={{ fontFamily: 'monospace', fontSize: '14px', backgroundColor: '#f3f4f6', padding: '8px', borderRadius: '4px', marginBottom: '8px' }}>
                          {link.link}
                        </div>
                        <div style={{ fontSize: '12px', color: '#666', marginBottom: '4px' }}>Short Link:</div>
                        <div style={{ fontFamily: 'monospace', fontSize: '14px', backgroundColor: '#f3f4f6', padding: '8px', borderRadius: '4px' }}>
                          {link.shortLink}
                        </div>
                      </div>
                      
                      <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
                        <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Copy Link
                        </button>
                        <button style={{ backgroundColor: '#16a34a', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Get QR Code
                        </button>
                        <button style={{ backgroundColor: '#3b82f6', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          View Analytics
                        </button>
                        <button style={{ backgroundColor: '#8b5cf6', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                          Share Tools
                        </button>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {activeTab === 'payouts' && (
              <div>
                <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111', marginBottom: '24px' }}>Payout History</h2>
                <div style={{ overflow: 'auto' }}>
                  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                    <thead>
                      <tr style={{ backgroundColor: '#f9fafb' }}>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Payout ID</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Amount</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Method</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Status</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Date</th>
                        <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {payouts.map(payout => (
                        <tr key={payout.id} style={{ borderBottom: '1px solid #e5e7eb' }}>
                          <td style={{ padding: '16px', fontFamily: 'monospace' }}>#{payout.id.toString().padStart(6, '0')}</td>
                          <td style={{ padding: '16px', fontWeight: 'bold', color: '#16a34a' }}>${payout.amount}</td>
                          <td style={{ padding: '16px' }}>{payout.method}</td>
                          <td style={{ padding: '16px' }}>
                            <span style={{
                              backgroundColor: payout.status === 'Paid' ? '#dcfce7' : payout.status === 'Processing' ? '#fef3c7' : '#dbeafe',
                              color: payout.status === 'Paid' ? '#16a34a' : payout.status === 'Processing' ? '#d97706' : '#3b82f6',
                              padding: '4px 8px',
                              borderRadius: '4px',
                              fontSize: '12px',
                              fontWeight: 'bold'
                            }}>
                              {payout.status}
                            </span>
                          </td>
                          <td style={{ padding: '16px' }}>{payout.date}</td>
                          <td style={{ padding: '16px' }}>
                            <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '6px 12px', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}>
                              View Details
                            </button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>
            )}

            {activeTab === 'overview' && (
              <div>
                <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#111', marginBottom: '24px' }}>Affiliate Overview</h2>
                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '24px' }}>
                  <div>
                    <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '16px' }}>Top Performing Links</h3>
                    {affiliateLinks.map(link => (
                      <div key={link.id} style={{ 
                        backgroundColor: '#f9fafb', 
                        padding: '16px', 
                        borderRadius: '8px', 
                        marginBottom: '12px',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                      }}>
                        <div>
                          <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>{link.product}</div>
                          <div style={{ fontSize: '14px', color: '#666' }}>{link.clicks} clicks ‚Ä¢ {link.sales} sales ‚Ä¢ ${link.commissionEarned} earned</div>
                        </div>
                        <div style={{ textAlign: 'right' }}>
                          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#16a34a' }}>{link.conversionRate}%</div>
                          <div style={{ fontSize: '12px', color: '#666' }}>conversion</div>
                        </div>
                      </div>
                    ))}
                  </div>
                  <div>
                    <h3 style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '16px' }}>Quick Actions</h3>
                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                      <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üîó Create New Link
                      </button>
                      <button style={{ backgroundColor: '#16a34a', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üí∞ Request Payout
                      </button>
                      <button style={{ backgroundColor: '#3b82f6', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üìä View Analytics
                      </button>
                      <button style={{ backgroundColor: '#8b5cf6', color: 'white', padding: '12px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>
                        üéØ Find Products
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

// Authentication Guard Component
const PrivateRoute = ({ children, requiredRole }: { children: React.ReactNode, requiredRole?: string }) => {
  const { isAuthenticated, user } = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  if (requiredRole && user?.role !== requiredRole) {
    return <Navigate to="/" replace />;
  }
  
  return <>{children}</>;
};

const BuyerDashboard = () => {
  const orders = [
    { id: 1, product: "Wireless Headphones", date: "2025-01-28", status: "Delivered", total: 149.99, seller: "TechGear Pro" },
    { id: 2, product: "Smart Watch", date: "2025-01-25", status: "Shipped", total: 249.99, seller: "WearableTech" }
  ];

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '40px' }}>
        <h1 style={{ fontSize: '32px', fontWeight: 'bold', color: '#111', marginBottom: '40px' }}>Buyer Dashboard</h1>
        
        {/* Quick Actions */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '20px', marginBottom: '40px' }}>
          <Link to="/marketplace" style={{ 
            backgroundColor: 'white', 
            padding: '24px', 
            borderRadius: '12px', 
            textDecoration: 'none',
            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
            textAlign: 'center'
          }}>
            <div style={{ fontSize: '32px', marginBottom: '8px' }}>üõçÔ∏è</div>
            <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#111' }}>Shop Products</div>
          </Link>
          <Link to="/fundraisers" style={{ 
            backgroundColor: 'white', 
            padding: '24px', 
            borderRadius: '12px', 
            textDecoration: 'none',
            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
            textAlign: 'center'
          }}>
            <div style={{ fontSize: '32px', marginBottom: '8px' }}>‚ù§Ô∏è</div>
            <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#111' }}>Support Causes</div>
          </Link>
          <Link to="/affiliate-signup" style={{ 
            backgroundColor: 'white', 
            padding: '24px', 
            borderRadius: '12px', 
            textDecoration: 'none',
            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
            textAlign: 'center'
          }}>
            <div style={{ fontSize: '32px', marginBottom: '8px' }}>üí∞</div>
            <div style={{ fontSize: '16px', fontWeight: 'bold', color: '#111' }}>Earn Commissions</div>
          </Link>
        </div>

        {/* Recent Orders */}
        <div style={{ backgroundColor: 'white', borderRadius: '12px', overflow: 'hidden', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>
          <div style={{ padding: '20px', borderBottom: '1px solid #eee' }}>
            <h2 style={{ fontSize: '20px', fontWeight: 'bold', color: '#111' }}>Recent Orders</h2>
          </div>
          <div style={{ overflow: 'auto' }}>
            <table style={{ width: '100%', borderCollapse: 'collapse' }}>
              <thead style={{ backgroundColor: '#f9fafb' }}>
                <tr>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Order ID</th>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Product</th>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Date</th>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Status</th>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Total</th>
                  <th style={{ padding: '16px', textAlign: 'left', fontWeight: 'bold', color: '#666' }}>Actions</th>
                </tr>
              </thead>
              <tbody>
                {orders.map(order => (
                  <tr key={order.id} style={{ borderBottom: '1px solid #eee' }}>
                    <td style={{ padding: '16px', fontFamily: 'monospace' }}>#{order.id.toString().padStart(6, '0')}</td>
                    <td style={{ padding: '16px', fontWeight: 'bold' }}>{order.product}</td>
                    <td style={{ padding: '16px' }}>{order.date}</td>
                    <td style={{ padding: '16px' }}>
                      <span style={{ 
                        backgroundColor: order.status === 'Delivered' ? '#dcfce7' : '#fef3c7',
                        color: order.status === 'Delivered' ? '#16a34a' : '#d97706',
                        padding: '4px 8px',
                        borderRadius: '4px',
                        fontSize: '12px',
                        fontWeight: 'bold'
                      }}>
                        {order.status}
                      </span>
                    </td>
                    <td style={{ padding: '16px', fontWeight: 'bold' }}>${order.total}</td>
                    <td style={{ padding: '16px' }}>
                      <button style={{ backgroundColor: '#ea580c', color: 'white', padding: '8px 16px', border: 'none', borderRadius: '6px', cursor: 'pointer' }}>
                        Track
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  );
};

const CheckoutPage = () => {
  const [paymentMethod, setPaymentMethod] = useState('card');
  const [country, setCountry] = useState('US');
  
  const countries = [
    { code: 'US', name: 'United States', currency: 'USD' },
    { code: 'CA', name: 'Canada', currency: 'CAD' },
    { code: 'GB', name: 'United Kingdom', currency: 'GBP' },
    { code: 'AU', name: 'Australia', currency: 'AUD' },
    { code: 'DE', name: 'Germany', currency: 'EUR' }
  ];

  const selectedCountry = countries.find(c => c.code === country);

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ maxWidth: '1000px', margin: '0 auto', padding: '40px' }}>
        <h1 style={{ fontSize: '32px', fontWeight: 'bold', color: '#111', marginBottom: '40px', textAlign: 'center' }}>
          Secure Checkout
        </h1>
        
        <div style={{ display: 'grid', gridTemplateColumns: '1fr 400px', gap: '40px' }}>
          {/* Checkout Form */}
          <div style={{ backgroundColor: 'white', padding: '32px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>
            {/* Country Selection */}
            <div style={{ marginBottom: '32px' }}>
              <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '16px', color: '#111' }}>
                üåç Select Your Country
              </h3>
              <select 
                value={country}
                onChange={(e) => setCountry(e.target.value)}
                style={{ 
                  width: '100%', 
                  padding: '12px', 
                  border: '2px solid #e5e7eb', 
                  borderRadius: '8px', 
                  fontSize: '16px' 
                }}
              >
                {countries.map(country => (
                  <option key={country.code} value={country.code}>
                    {country.name} ({country.currency})
                  </option>
                ))}
              </select>
            </div>

            {/* Payment Method */}
            <div style={{ marginBottom: '32px' }}>
              <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '16px', color: '#111' }}>
                üí≥ Payment Method
              </h3>
              <div style={{ display: 'flex', gap: '16px', marginBottom: '20px' }}>
                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>
                  <input 
                    type="radio" 
                    name="payment" 
                    value="card" 
                    checked={paymentMethod === 'card'}
                    onChange={(e) => setPaymentMethod(e.target.value)}
                    style={{ marginRight: '8px' }}
                  />
                  Credit/Debit Card
                </label>
                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>
                  <input 
                    type="radio" 
                    name="payment" 
                    value="paypal" 
                    checked={paymentMethod === 'paypal'}
                    onChange={(e) => setPaymentMethod(e.target.value)}
                    style={{ marginRight: '8px' }}
                  />
                  PayPal
                </label>
                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>
                  <input 
                    type="radio" 
                    name="payment" 
                    value="crypto" 
                    checked={paymentMethod === 'crypto'}
                    onChange={(e) => setPaymentMethod(e.target.value)}
                    style={{ marginRight: '8px' }}
                  />
                  Crypto
                </label>
              </div>
            </div>

            {/* Card Information */}
            {paymentMethod === 'card' && (
              <div style={{ marginBottom: '32px' }}>
                <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '16px', color: '#111' }}>
                  üí≥ Card Information
                </h3>
                <input 
                  type="text" 
                  placeholder="Card Number"
                  style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
                />
              </div>
            )}

            <button style={{
              width: '100%',
              backgroundColor: '#ea580c',
              color: 'white',
              padding: '16px',
              border: 'none',
              borderRadius: '8px',
              fontSize: '18px',
              fontWeight: 'bold',
              cursor: 'pointer'
            }}>
              Complete Purchase ({selectedCountry?.currency} 149.99)
            </button>
          </div>

          {/* Order Summary */}
          <div style={{ backgroundColor: 'white', padding: '32px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', height: 'fit-content' }}>
            <h3 style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '20px', color: '#111' }}>
              Order Summary
            </h3>
            <div style={{ borderBottom: '1px solid #eee', paddingBottom: '16px', marginBottom: '16px' }}>
              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '12px' }}>
                <img 
                  src="https://images.pexels.com/photos/3587478/pexels-photo-3587478.jpeg?auto=compress&cs=tinysrgb&w=100" 
                  alt="Product" 
                  style={{ width: '60px', height: '60px', objectFit: 'cover', borderRadius: '8px', marginRight: '12px' }}
                />
                <div>
                  <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>Wireless Noise-Cancelling Headphones</div>
                  <div style={{ color: '#666', fontSize: '14px' }}>by TechGear Pro</div>
                </div>
              </div>
            </div>
            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '18px', fontWeight: 'bold' }}>
              <span>Total:</span>
              <span>{selectedCountry?.currency} 149.99</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

const LoginPage = () => {
  const [isSignUp, setIsSignUp] = useState(false);
  const [userType, setUserType] = useState('buyer');
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    firstName: '',
    lastName: '',
    businessName: '',
    website: ''
  });
  const { login } = useAuth();
  
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    // Simulate login - in real app this would call API
    const userData = {
      id: Date.now(),
      email: formData.email,
      name: isSignUp ? `${formData.firstName} ${formData.lastName}` : formData.email.split('@')[0],
      role: userType,
      businessName: formData.businessName,
      website: formData.website
    };
    login(formData.email, formData.password, userType);
    // Redirect based on user type
    window.location.href = userType === 'seller' ? '/seller-dashboard' : 
                          userType === 'affiliate' ? '/affiliate-dashboard' : '/buyer-dashboard';
  };

  const handleInputChange = (field: string, value: string) => {
    setFormData(prev => ({ ...prev, [field]: value }));
  };
  
  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '20px' }}>
      <div style={{ backgroundColor: 'white', padding: '48px', borderRadius: '16px', boxShadow: '0 12px 24px rgba(0,0,0,0.1)', width: '100%', maxWidth: '500px' }}>
        <div style={{ textAlign: 'center', marginBottom: '32px' }}>
          <div style={{ fontSize: '48px', fontWeight: 'bold', color: '#ea580c', marginBottom: '8px' }}>üêù</div>
          <h1 style={{ fontSize: '28px', fontWeight: 'bold', color: '#111', marginBottom: '8px' }}>
            {isSignUp ? 'Join Beezio.co' : 'Welcome Back'}
          </h1>
          <p style={{ color: '#666' }}>
            {isSignUp ? 'Start your success story today' : 'Sign in to your account'}
          </p>
        </div>

        {isSignUp && (
          <div style={{ marginBottom: '24px' }}>
            <div style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '12px', color: '#111' }}>
              What best describes you?
            </div>
            <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
              {[
                { id: 'buyer', label: 'üõçÔ∏è Buyer', desc: 'Shop and support causes' },
                { id: 'seller', label: 'üè™ Seller', desc: 'Sell products online' },
                { id: 'affiliate', label: 'ü§ù Affiliate', desc: 'Earn commissions' }
              ].map(type => (
                <label key={type.id} style={{ 
                  flex: 1, 
                  minWidth: '140px',
                  cursor: 'pointer',
                  padding: '16px',
                  border: userType === type.id ? '2px solid #ea580c' : '2px solid #e5e7eb',
                  borderRadius: '8px',
                  backgroundColor: userType === type.id ? '#fef7f0' : 'white',
                  textAlign: 'center'
                }}>
                  <input 
                    type="radio" 
                    name="userType" 
                    value={type.id}
                    checked={userType === type.id}
                    onChange={(e) => setUserType(e.target.value)}
                    style={{ display: 'none' }}
                  />
                  <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>{type.label}</div>
                  <div style={{ fontSize: '12px', color: '#666' }}>{type.desc}</div>
                </label>
              ))}
            </div>
          </div>
        )}

        <form onSubmit={handleSubmit}>
          {isSignUp && (
            <>
              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginBottom: '16px' }}>
                <input 
                  type="text" 
                  placeholder="First Name"
                  value={formData.firstName}
                  onChange={(e) => handleInputChange('firstName', e.target.value)}
                  required
                  style={{ padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px' }}
                />
                <input 
                  type="text" 
                  placeholder="Last Name"
                  value={formData.lastName}
                  onChange={(e) => handleInputChange('lastName', e.target.value)}
                  required
                  style={{ padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px' }}
                />
              </div>
              
              {userType === 'seller' && (
                <>
                  <input 
                    type="text" 
                    placeholder="Business Name"
                    value={formData.businessName}
                    onChange={(e) => handleInputChange('businessName', e.target.value)}
                    style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
                  />
                  <input 
                    type="url" 
                    placeholder="Website (optional)"
                    value={formData.website}
                    onChange={(e) => handleInputChange('website', e.target.value)}
                    style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
                  />
                </>
              )}
            </>
          )}

          <input 
            type="email" 
            placeholder="Email Address"
            value={formData.email}
            onChange={(e) => handleInputChange('email', e.target.value)}
            required
            style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
          />
          <input 
            type="password" 
            placeholder="Password"
            value={formData.password}
            onChange={(e) => handleInputChange('password', e.target.value)}
            required
            style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
          />
          {isSignUp && (
            <input 
              type="password" 
              placeholder="Confirm Password"
              required
              style={{ width: '100%', padding: '12px', border: '2px solid #e5e7eb', borderRadius: '8px', fontSize: '16px', marginBottom: '16px' }}
            />
          )}
          
          <button type="submit" style={{
            width: '100%',
            backgroundColor: '#ea580c',
            color: 'white',
            padding: '16px',
            border: 'none',
            borderRadius: '8px',
            fontSize: '18px',
            fontWeight: 'bold',
            cursor: 'pointer',
            marginBottom: '16px'
          }}>
            {isSignUp ? `Create ${userType.charAt(0).toUpperCase() + userType.slice(1)} Account` : 'Sign In'}
          </button>
        </form>

        <div style={{ textAlign: 'center' }}>
          <button 
            onClick={() => setIsSignUp(!isSignUp)}
            style={{ 
              background: 'none', 
              border: 'none', 
              color: '#ea580c', 
              cursor: 'pointer', 
              fontSize: '16px' 
            }}
          >
            {isSignUp ? 'Already have an account? Sign in' : 'Need an account? Sign up'}
          </button>
        </div>

        {isSignUp && (
          <div style={{ marginTop: '24px', padding: '16px', backgroundColor: '#f0fdf4', borderRadius: '8px', border: '1px solid #bbf7d0' }}>
            <div style={{ fontSize: '14px', color: '#16a34a', textAlign: 'center' }}>
              {userType === 'seller' && 'üè™ Start selling with 0% platform fees'}
              {userType === 'affiliate' && 'üí∞ Earn recurring commissions forever'}
              {userType === 'buyer' && 'üõçÔ∏è Shop and support amazing causes'}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

// Marketplace Component
const Marketplace = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [sortBy, setSortBy] = useState('popular');
  
  const categories = [
    { id: 'all', name: 'All Products', icon: 'üõçÔ∏è' },
    { id: 'electronics', name: 'Electronics', icon: 'üì±' },
    { id: 'clothing', name: 'Clothing', icon: 'üëï' },
    { id: 'home', name: 'Home & Garden', icon: 'üè†' },
    { id: 'sports', name: 'Sports & Outdoors', icon: '‚öΩ' },
    { id: 'books', name: 'Books & Media', icon: 'üìö' },
    { id: 'beauty', name: 'Beauty & Health', icon: 'üíÑ' },
    { id: 'toys', name: 'Toys & Games', icon: 'üéÆ' },
    { id: 'automotive', name: 'Automotive', icon: 'üöó' }
  ];

  const products = [
    {
      id: 1,
      name: "Wireless Noise-Cancelling Headphones",
      price: 149.99,
      originalPrice: 199.99,
      seller: "TechGear Pro",
      rating: 4.8,
      reviews: 1247,
      category: 'electronics',
      image: 'üéß',
      badge: 'Best Seller',
      causeSupported: 'Music Education Fund',
      commission: '25%'
    },
    {
      id: 2,
      name: "Eco-Friendly Water Bottle",
      price: 24.99,
      originalPrice: 34.99,
      seller: "GreenLife Co",
      rating: 4.6,
      reviews: 892,
      category: 'sports',
      image: 'üíß',
      badge: 'Eco Choice',
      causeSupported: 'Ocean Cleanup',
      commission: '30%'
    },
    {
      id: 3,
      name: "Organic Cotton T-Shirt",
      price: 29.99,
      originalPrice: 39.99,
      seller: "SustainableFashion",
      rating: 4.7,
      reviews: 456,
      category: 'clothing',
      image: 'üëï',
      badge: 'Organic',
      causeSupported: 'Fair Trade Initiative',
      commission: '20%'
    },
    {
      id: 4,
      name: "Smart Home Security Camera",
      price: 89.99,
      originalPrice: 129.99,
      seller: "SecureHome Tech",
      rating: 4.5,
      reviews: 623,
      category: 'electronics',
      image: 'üìπ',
      badge: 'Smart Choice',
      causeSupported: 'Community Safety Fund',
      commission: '15%'
    },
    {
      id: 5,
      name: "Handmade Ceramic Mug Set",
      price: 44.99,
      originalPrice: 59.99,
      seller: "Artisan Crafts",
      rating: 4.9,
      reviews: 234,
      category: 'home',
      image: '‚òï',
      badge: 'Handmade',
      causeSupported: 'Local Artisan Support',
      commission: '35%'
    },
    {
      id: 6,
      name: "Fitness Resistance Bands Set",
      price: 19.99,
      originalPrice: 29.99,
      seller: "FitLife Gear",
      rating: 4.4,
      reviews: 789,
      category: 'sports',
      image: 'üí™',
      badge: 'Fitness Pro',
      causeSupported: 'Youth Sports Program',
      commission: '25%'
    },
    {
      id: 7,
      name: "Natural Skincare Gift Set",
      price: 67.99,
      originalPrice: 89.99,
      seller: "Pure Beauty Co",
      rating: 4.8,
      reviews: 512,
      category: 'beauty',
      image: '‚ú®',
      badge: 'Natural',
      causeSupported: 'Women Health Initiative',
      commission: '28%'
    },
    {
      id: 8,
      name: "Educational STEM Building Kit",
      price: 54.99,
      originalPrice: 74.99,
      seller: "LearnPlay Toys",
      rating: 4.7,
      reviews: 367,
      category: 'toys',
      image: 'üî¨',
      badge: 'Educational',
      causeSupported: 'STEM Education Fund',
      commission: '22%'
    },
    {
      id: 9,
      name: "Bamboo Kitchen Utensil Set",
      price: 32.99,
      originalPrice: 42.99,
      seller: "EcoKitchen",
      rating: 4.6,
      reviews: 445,
      category: 'home',
      image: 'ü•Ñ',
      badge: 'Sustainable',
      causeSupported: 'Forest Conservation',
      commission: '30%'
    }
  ];

  const filteredProducts = products.filter(product => {
    const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         product.seller.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  const sortedProducts = [...filteredProducts].sort((a, b) => {
    switch (sortBy) {
      case 'price-low': return a.price - b.price;
      case 'price-high': return b.price - a.price;
      case 'rating': return b.rating - a.rating;
      case 'popular': return b.reviews - a.reviews;
      default: return 0;
    }
  });

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ backgroundColor: 'white', padding: '24px 0', borderBottom: '1px solid #e5e7eb' }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 24px' }}>
          <h1 style={{ fontSize: '36px', fontWeight: 'bold', color: '#111', margin: '0 0 8px 0' }}>
            üõçÔ∏è Beezio Marketplace
          </h1>
          <p style={{ color: '#666', margin: 0, fontSize: '18px' }}>
            Shop amazing products while supporting great causes
          </p>
        </div>
      </div>

      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '24px' }}>
        {/* Search and Filters */}
        <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 6px rgba(0,0,0,0.05)', marginBottom: '24px' }}>
          <div style={{ display: 'grid', gridTemplateColumns: '1fr auto auto', gap: '16px', alignItems: 'center', marginBottom: '20px' }}>
            <input
              type="text"
              placeholder="Search products, sellers..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              style={{
                padding: '12px 16px',
                border: '2px solid #e5e7eb',
                borderRadius: '8px',
                fontSize: '16px',
                outline: 'none'
              }}
            />
            <select
              value={sortBy}
              onChange={(e) => setSortBy(e.target.value)}
              style={{
                padding: '12px 16px',
                border: '2px solid #e5e7eb',
                borderRadius: '8px',
                fontSize: '16px',
                outline: 'none'
              }}
            >
              <option value="popular">Most Popular</option>
              <option value="rating">Highest Rated</option>
              <option value="price-low">Price: Low to High</option>
              <option value="price-high">Price: High to Low</option>
            </select>
            <div style={{ color: '#666', fontSize: '16px', fontWeight: 'bold' }}>
              {filteredProducts.length} products
            </div>
          </div>

          {/* Category Filter */}
          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
            {categories.map(category => (
              <button
                key={category.id}
                onClick={() => setSelectedCategory(category.id)}
                style={{
                  padding: '8px 16px',
                  border: selectedCategory === category.id ? '2px solid #ea580c' : '2px solid #e5e7eb',
                  backgroundColor: selectedCategory === category.id ? '#fef7f0' : 'white',
                  borderRadius: '20px',
                  cursor: 'pointer',
                  fontSize: '14px',
                  fontWeight: selectedCategory === category.id ? 'bold' : 'normal',
                  color: selectedCategory === category.id ? '#ea580c' : '#666'
                }}
              >
                {category.icon} {category.name}
              </button>
            ))}
          </div>
        </div>

        {/* Products Grid */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: '24px' }}>
          {sortedProducts.map(product => (
            <div key={product.id} style={{
              backgroundColor: 'white',
              borderRadius: '12px',
              boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
              overflow: 'hidden',
              transition: 'transform 0.3s ease, box-shadow 0.3s ease',
              cursor: 'pointer'
            }}>
              {/* Product Badge */}
              {product.badge && (
                <div style={{
                  position: 'absolute',
                  top: '12px',
                  left: '12px',
                  backgroundColor: '#ea580c',
                  color: 'white',
                  padding: '4px 8px',
                  borderRadius: '4px',
                  fontSize: '12px',
                  fontWeight: 'bold',
                  zIndex: 1
                }}>
                  {product.badge}
                </div>
              )}

              {/* Product Image */}
              <div style={{
                height: '200px',
                backgroundColor: '#f3f4f6',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '80px',
                position: 'relative'
              }}>
                {product.image}
              </div>

              <div style={{ padding: '20px' }}>
                {/* Product Title */}
                <h3 style={{
                  fontSize: '18px',
                  fontWeight: 'bold',
                  color: '#111',
                  margin: '0 0 8px 0',
                  lineHeight: '1.3'
                }}>
                  {product.name}
                </h3>

                {/* Seller */}
                <p style={{
                  color: '#666',
                  fontSize: '14px',
                  margin: '0 0 8px 0'
                }}>
                  by {product.seller}
                </p>

                {/* Rating */}
                <div style={{ display: 'flex', alignItems: 'center', marginBottom: '12px' }}>
                  <div style={{ color: '#fbbf24', marginRight: '4px' }}>
                    {'‚òÖ'.repeat(Math.floor(product.rating))}{'‚òÜ'.repeat(5-Math.floor(product.rating))}
                  </div>
                  <span style={{ color: '#666', fontSize: '14px' }}>
                    {product.rating} ({product.reviews} reviews)
                  </span>
                </div>

                {/* Price */}
                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '12px' }}>
                  <span style={{ fontSize: '24px', fontWeight: 'bold', color: '#16a34a' }}>
                    ${product.price}
                  </span>
                  {product.originalPrice > product.price && (
                    <span style={{ fontSize: '16px', color: '#666', textDecoration: 'line-through' }}>
                      ${product.originalPrice}
                    </span>
                  )}
                  {product.originalPrice > product.price && (
                    <span style={{ 
                      backgroundColor: '#dcfce7',
                      color: '#16a34a',
                      padding: '2px 6px',
                      borderRadius: '4px',
                      fontSize: '12px',
                      fontWeight: 'bold'
                    }}>
                      Save ${(product.originalPrice - product.price).toFixed(2)}
                    </span>
                  )}
                </div>

                {/* Cause Supported */}
                <div style={{
                  backgroundColor: '#fef7f0',
                  border: '1px solid #fed7aa',
                  padding: '8px',
                  borderRadius: '6px',
                  marginBottom: '16px'
                }}>
                  <div style={{ fontSize: '12px', color: '#ea580c', fontWeight: 'bold' }}>
                    üíñ Supports: {product.causeSupported}
                  </div>
                </div>

                {/* Commission Info */}
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>
                  <div style={{
                    backgroundColor: '#f0fdf4',
                    color: '#16a34a',
                    padding: '4px 8px',
                    borderRadius: '4px',
                    fontSize: '12px',
                    fontWeight: 'bold'
                  }}>
                    üí∞ {product.commission} Affiliate Commission
                  </div>
                </div>

                {/* Action Buttons */}
                <div style={{ display: 'flex', gap: '8px' }}>
                  <button style={{
                    flex: 1,
                    backgroundColor: '#ea580c',
                    color: 'white',
                    padding: '12px',
                    border: 'none',
                    borderRadius: '8px',
                    fontWeight: 'bold',
                    cursor: 'pointer',
                    fontSize: '16px'
                  }}>
                    Add to Cart
                  </button>
                  <button style={{
                    backgroundColor: 'white',
                    color: '#ea580c',
                    padding: '12px',
                    border: '2px solid #ea580c',
                    borderRadius: '8px',
                    fontWeight: 'bold',
                    cursor: 'pointer',
                    fontSize: '16px'
                  }}>
                    ‚ù§Ô∏è
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>

        {filteredProducts.length === 0 && (
          <div style={{
            backgroundColor: 'white',
            padding: '48px',
            borderRadius: '12px',
            textAlign: 'center',
            boxShadow: '0 4px 6px rgba(0,0,0,0.05)'
          }}>
            <div style={{ fontSize: '48px', marginBottom: '16px' }}>üîç</div>
            <h3 style={{ fontSize: '24px', color: '#111', marginBottom: '8px' }}>No products found</h3>
            <p style={{ color: '#666' }}>Try adjusting your search or filters</p>
          </div>
        )}
      </div>
    </div>
  );
};

// Fundraisers Component
const Fundraisers = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [sortBy, setSortBy] = useState('trending');

  const categories = [
    { id: 'all', name: 'All Causes', icon: '‚ù§Ô∏è' },
    { id: 'education', name: 'Education', icon: 'üìö' },
    { id: 'environment', name: 'Environment', icon: 'üå±' },
    { id: 'health', name: 'Health', icon: 'üè•' },
    { id: 'animals', name: 'Animals', icon: 'üêæ' },
    { id: 'community', name: 'Community', icon: 'üèòÔ∏è' },
    { id: 'disaster', name: 'Disaster Relief', icon: 'üÜò' },
    { id: 'arts', name: 'Arts & Culture', icon: 'üé®' }
  ];

  const fundraisers = [
    {
      id: 1,
      title: "Ocean Cleanup Initiative",
      description: "Help us remove plastic waste from our oceans and protect marine life for future generations.",
      organizer: "Ocean Warriors",
      category: 'environment',
      image: 'üåä',
      raised: 15750,
      goal: 25000,
      supporters: 342,
      daysLeft: 12,
      badge: 'Trending',
      featured: true
    },
    {
      id: 2,
      title: "School Library Renovation",
      description: "Transform our local elementary school library into a modern learning space for 500+ students.",
      organizer: "Lincoln Elementary PTA",
      category: 'education',
      image: 'üìö',
      raised: 8920,
      goal: 15000,
      supporters: 156,
      daysLeft: 18,
      badge: 'Local Impact',
      featured: false
    },
    {
      id: 3,
      title: "Animal Shelter Emergency Fund",
      description: "Urgent medical care and supplies needed for rescued animals at our overcrowded shelter.",
      organizer: "Happy Paws Rescue",
      category: 'animals',
      image: 'üêï',
      raised: 12340,
      goal: 20000,
      supporters: 289,
      daysLeft: 8,
      badge: 'Urgent',
      featured: true
    },
    {
      id: 4,
      title: "Community Garden Project",
      description: "Build a sustainable community garden to provide fresh produce for local food banks.",
      organizer: "Green Community Initiative",
      category: 'community',
      image: 'üå±',
      raised: 4567,
      goal: 12000,
      supporters: 78,
      daysLeft: 25,
      badge: 'New',
      featured: false
    },
    {
      id: 5,
      title: "Children's Art Program",
      description: "Bring art education to underserved communities through mobile art studios and workshops.",
      organizer: "Creative Kids Foundation",
      category: 'arts',
      image: 'üé®',
      raised: 18900,
      goal: 30000,
      supporters: 412,
      daysLeft: 15,
      badge: 'Almost Funded',
      featured: true
    },
    {
      id: 6,
      title: "Disaster Relief Fund",
      description: "Emergency supplies and shelter for families affected by recent flooding in rural communities.",
      organizer: "Regional Relief Network",
      category: 'disaster',
      image: 'üÜò',
      raised: 22100,
      goal: 35000,
      supporters: 567,
      daysLeft: 5,
      badge: 'Critical',
      featured: true
    }
  ];

  const filteredFundraisers = fundraisers.filter(fundraiser => {
    const matchesSearch = fundraiser.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         fundraiser.description.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         fundraiser.organizer.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesCategory = selectedCategory === 'all' || fundraiser.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  const sortedFundraisers = [...filteredFundraisers].sort((a, b) => {
    switch (sortBy) {
      case 'amount-high': return b.raised - a.raised;
      case 'amount-low': return a.raised - b.raised;
      case 'ending-soon': return a.daysLeft - b.daysLeft;
      case 'supporters': return b.supporters - a.supporters;
      case 'trending': return (b.featured ? 1 : 0) - (a.featured ? 1 : 0) || b.supporters - a.supporters;
      default: return 0;
    }
  });

  const getProgressPercentage = (raised: number, goal: number) => {
    return Math.min((raised / goal) * 100, 100);
  };

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f9fafb' }}>
      <div style={{ backgroundColor: 'white', padding: '24px 0', borderBottom: '1px solid #e5e7eb' }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 24px' }}>
          <h1 style={{ fontSize: '36px', fontWeight: 'bold', color: '#111', margin: '0 0 8px 0' }}>
            ‚ù§Ô∏è Fundraisers & Causes
          </h1>
          <p style={{ color: '#666', margin: 0, fontSize: '18px' }}>
            Support amazing causes and make a real difference in the world
          </p>
        </div>
      </div>

      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '24px' }}>
        {/* Search and Filters */}
        <div style={{ backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 6px rgba(0,0,0,0.05)', marginBottom: '24px' }}>
          <div style={{ display: 'grid', gridTemplateColumns: '1fr auto auto', gap: '16px', alignItems: 'center', marginBottom: '20px' }}>
            <input
              type="text"
              placeholder="Search fundraisers, causes..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              style={{
                padding: '12px 16px',
                border: '2px solid #e5e7eb',
                borderRadius: '8px',
                fontSize: '16px',
                outline: 'none'
              }}
            />
            <select
              value={sortBy}
              onChange={(e) => setSortBy(e.target.value)}
              style={{
                padding: '12px 16px',
                border: '2px solid #e5e7eb',
                borderRadius: '8px',
                fontSize: '16px',
                outline: 'none'
              }}
            >
              <option value="trending">Trending</option>
              <option value="ending-soon">Ending Soon</option>
              <option value="amount-high">Most Raised</option>
              <option value="amount-low">Least Raised</option>
              <option value="supporters">Most Supporters</option>
            </select>
            <div style={{ color: '#666', fontSize: '16px', fontWeight: 'bold' }}>
              {filteredFundraisers.length} fundraisers
            </div>
          </div>

          {/* Category Filter */}
          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
            {categories.map(category => (
              <button
                key={category.id}
                onClick={() => setSelectedCategory(category.id)}
                style={{
                  padding: '8px 16px',
                  border: selectedCategory === category.id ? '2px solid #ea580c' : '2px solid #e5e7eb',
                  backgroundColor: selectedCategory === category.id ? '#fef7f0' : 'white',
                  borderRadius: '20px',
                  cursor: 'pointer',
                  fontSize: '14px',
                  fontWeight: selectedCategory === category.id ? 'bold' : 'normal',
                  color: selectedCategory === category.id ? '#ea580c' : '#666'
                }}
              >
                {category.icon} {category.name}
              </button>
            ))}
          </div>
        </div>

        {/* Fundraisers Grid */}
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(380px, 1fr))', gap: '24px' }}>
          {sortedFundraisers.map(fundraiser => (
            <div key={fundraiser.id} style={{
              backgroundColor: 'white',
              borderRadius: '12px',
              boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
              overflow: 'hidden',
              transition: 'transform 0.3s ease, box-shadow 0.3s ease',
              cursor: 'pointer'
            }}>
              {/* Fundraiser Badge */}
              {fundraiser.badge && (
                <div style={{
                  position: 'absolute',
                  top: '12px',
                  left: '12px',
                  backgroundColor: fundraiser.badge === 'Critical' || fundraiser.badge === 'Urgent' ? '#dc2626' : '#ea580c',
                  color: 'white',
                  padding: '4px 8px',
                  borderRadius: '4px',
                  fontSize: '12px',
                  fontWeight: 'bold',
                  zIndex: 1
                }}>
                  {fundraiser.badge}
                </div>
              )}

              {/* Fundraiser Image */}
              <div style={{
                height: '200px',
                backgroundColor: '#f3f4f6',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '80px',
                position: 'relative'
              }}>
                {fundraiser.image}
              </div>

              <div style={{ padding: '24px' }}>
                {/* Title */}
                <h3 style={{
                  fontSize: '20px',
                  fontWeight: 'bold',
                  color: '#111',
                  margin: '0 0 8px 0',
                  lineHeight: '1.3'
                }}>
                  {fundraiser.title}
                </h3>

                {/* Organizer */}
                <p style={{
                  color: '#666',
                  fontSize: '14px',
                  margin: '0 0 12px 0'
                }}>
                  by {fundraiser.organizer}
                </p>

                {/* Description */}
                <p style={{
                  color: '#666',
                  fontSize: '14px',
                  lineHeight: '1.5',
                  margin: '0 0 16px 0'
                }}>
                  {fundraiser.description}
                </p>

                {/* Progress Bar */}
                <div style={{ marginBottom: '16px' }}>
                  <div style={{
                    backgroundColor: '#e5e7eb',
                    height: '8px',
                    borderRadius: '4px',
                    overflow: 'hidden',
                    marginBottom: '8px'
                  }}>
                    <div style={{
                      backgroundColor: '#16a34a',
                      height: '100%',
                      width: `${getProgressPercentage(fundraiser.raised, fundraiser.goal)}%`,
                      borderRadius: '4px'
                    }}></div>
                  </div>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                    <div>
                      <span style={{ fontSize: '18px', fontWeight: 'bold', color: '#16a34a' }}>
                        ${fundraiser.raised.toLocaleString()}
                      </span>
                      <span style={{ color: '#666', fontSize: '14px' }}>
                        {' '}raised of ${fundraiser.goal.toLocaleString()} goal
                      </span>
                    </div>
                    <div style={{ color: '#666', fontSize: '14px' }}>
                      {Math.round(getProgressPercentage(fundraiser.raised, fundraiser.goal))}%
                    </div>
                  </div>
                </div>

                {/* Stats */}
                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '20px' }}>
                  <div style={{ textAlign: 'center' }}>
                    <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#111' }}>
                      {fundraiser.supporters}
                    </div>
                    <div style={{ fontSize: '12px', color: '#666' }}>supporters</div>
                  </div>
                  <div style={{ textAlign: 'center' }}>
                    <div style={{ fontSize: '18px', fontWeight: 'bold', color: fundraiser.daysLeft <= 7 ? '#dc2626' : '#111' }}>
                      {fundraiser.daysLeft}
                    </div>
                    <div style={{ fontSize: '12px', color: '#666' }}>days left</div>
                  </div>
                  <div style={{ textAlign: 'center' }}>
                    <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#8b5cf6' }}>
                      ${Math.round(fundraiser.raised / fundraiser.supporters)}
                    </div>
                    <div style={{ fontSize: '12px', color: '#666' }}>avg donation</div>
                  </div>
                </div>

                {/* Action Buttons */}
                <div style={{ display: 'flex', gap: '8px' }}>
                  <button style={{
                    flex: 1,
                    backgroundColor: '#ea580c',
                    color: 'white',
                    padding: '12px',
                    border: 'none',
                    borderRadius: '8px',
                    fontWeight: 'bold',
                    cursor: 'pointer',
                    fontSize: '16px'
                  }}>
                    Donate Now
                  </button>
                  <button style={{
                    backgroundColor: 'white',
                    color: '#ea580c',
                    padding: '12px 16px',
                    border: '2px solid #ea580c',
                    borderRadius: '8px',
                    fontWeight: 'bold',
                    cursor: 'pointer',
                    fontSize: '16px'
                  }}>
                    Share
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>

        {filteredFundraisers.length === 0 && (
          <div style={{
            backgroundColor: 'white',
            padding: '48px',
            borderRadius: '12px',
            textAlign: 'center',
            boxShadow: '0 4px 6px rgba(0,0,0,0.05)'
          }}>
            <div style={{ fontSize: '48px', marginBottom: '16px' }}>üíù</div>
            <h3 style={{ fontSize: '24px', color: '#111', marginBottom: '8px' }}>No fundraisers found</h3>
            <p style={{ color: '#666' }}>Try adjusting your search or filters</p>
          </div>
        )}
      </div>
    </div>
  );
};

// Main App Component with Routing
function UltraBasic() {
  return (
    <AuthProvider>
      <Router>
        <div>
          <Header />
          <Routes>
            <Route path="/" element={<HomePage />} />
            <Route path="/login" element={<LoginPage />} />
            <Route path="/seller-signup" element={<LoginPage />} />
            <Route path="/affiliate-signup" element={<LoginPage />} />
            <Route path="/marketplace" element={<Marketplace />} />
            <Route path="/fundraisers" element={<Fundraisers />} />
            <Route path="/checkout" element={<CheckoutPage />} />
            <Route path="/add-product" element={<div style={{ padding: '40px', textAlign: 'center' }}>üì¶ Add Product Coming Soon</div>} />
            <Route path="/product/:id" element={<div style={{ padding: '40px', textAlign: 'center' }}>ÔøΩ Product Details Coming Soon</div>} />
            <Route path="/fundraiser/:id" element={<div style={{ padding: '40px', textAlign: 'center' }}>‚ù§Ô∏è Fundraiser Details Coming Soon</div>} />
            
            {/* Protected Routes */}
            <Route path="/seller-dashboard" element={
              <PrivateRoute requiredRole="seller">
                <SellerDashboard />
              </PrivateRoute>
            } />
            <Route path="/affiliate-dashboard" element={
              <PrivateRoute requiredRole="affiliate">
                <AffiliateDashboard />
              </PrivateRoute>
            } />
            <Route path="/buyer-dashboard" element={
              <PrivateRoute requiredRole="buyer">
                <BuyerDashboard />
              </PrivateRoute>
            } />
            
            {/* Legacy routes - redirect to proper dashboard routes */}
            <Route path="/sellers" element={<Navigate to="/seller-dashboard" replace />} />
            <Route path="/affiliates" element={<Navigate to="/affiliate-dashboard" replace />} />
            <Route path="/buyers" element={<Navigate to="/buyer-dashboard" replace />} />
          </Routes>
        </div>
      </Router>
    </AuthProvider>
  );
}

export default UltraBasic;
